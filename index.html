<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="Gibs' Gambia DriveHub offers personalized driving, taxi, and chauffeur services in Gambia. Specializing in airport transfers, scenic tours in Senegambia and Kololi.">
    <title>Gibs' Gambia DriveHub - Your Personal Driver in Gambia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
</head>
<body>
<script src="navbar.js"></script>
<div class="heading">
    <img src="images/gibs-driver-gambia-landscape.jpg" alt="Gambia DriveHub Experience">
</div>
<main class="container">
    <h1>Welcome to Gibs' Gambia DriveHub</h1>
    <p>Discover the beauty and culture of Gambia with Gibs' Gambia DriveHub, your trusted partner for all your
        transportation needs. Whether you're looking for a reliable airport transfer, a scenic tour of Senegambia
        and Kololi, or a custom driving service, we have you covered. Our experienced drivers are dedicated to
        providing you with a safe, comfortable, and memorable journey through Gambia.</p>

    <section class="row g-lg-4">
        <div class="col-lg-6 col-12 mb-4">
            <div class="card">
                <img src="images/gibs-driver-gambia-1.jpeg" loading="lazy" class="card-img-top img-fluid" alt="Scenic Safari in Gambia">
                <div class="card-body">
                    <h2 class="card-title">Scenic Safaris</h2>
                    <p class="card-text">Explore Gambia's breathtaking landscapes and wildlife with our personalized tours. From the lush
                        River Gambia National Park to the vibrant streets of Banjul, let us guide you through the heart of
                        West Africa.</p>
                    <a href="#" class="btn btn-primary">Learn More</a>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-12 mb-4">
            <div class="card">
                <img src="images/gibs-driver-gambia-2.jpeg" loading="lazy" class="card-img-top img-fluid" alt="Gambia Airport Express">
                <div class="card-body">
                    <h2 class="card-title">Airport Express</h2>
                    <p class="card-text">njoy stress-free travel with our reliable airport transfer services. We provide timely arrivals and
                        departures at Gambia International Airport, ensuring a smooth start and end to your journey.</p>
                    <a href="#" class="btn btn-primary">Learn More</a>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-12 mb-4">
            <div class="card">
                <img src="images/gibs-driver-gambia-3.jpeg" loading="lazy" class="card-img-top img-fluid" alt="Custom Cruises in Gambia">
                <div class="card-body">
                    <h2 class="card-title">Custom Cruises</h2>
                    <p class="card-text">Experience Gambia your way with our customized driving services. Whether you're interested in
                        cultural excursions, beach getaways, or exploring local markets, we tailor our services to fit your
                        exploration desires.</p>
                    <a href="#" class="btn btn-primary">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <section class="my-4">
        <h2 class="mb-3">Driver Cost Calculator</h2>
        <form class="custom-form">
            <div class="row g-3 form-group">
                <div class="col-lg-5 col-md-6">
                    <label for="start" class="form-label">Start</label>
                    <input type="text" class="form-control" id="start" name="distance" onchange="calculateRoute()" required>
                </div>
                <div class="col-lg-5 col-md-6">
                    <label for="destination" class="form-label">Destination</label>
                    <input type="text" class="form-control" id="destination" name="distance" onchange="calculateRoute()" required>
                </div>
                <div class="col-lg-2 col-md-6 d-flex align-items-center">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="return" oninput="calculateRoute()" name="return">
                        <label class="form-check-label" for="return">Return Trip</label>
                    </div>
                </div>
                </div>
            <div class="row form-group">
                <div class="col-lg-5 col-md-6">
                    <label for="hours" class="form-label">Hours at Destination:</label>
                    <input type="number" class="form-control" oninput="calculateRoute()" id="hours" name="hours" required>
                </div>
            </div>
            <div id="map" class="my-4" style="height: 400px; width: 100%;"></div>
            <div class="row mt-3">
                <div class="col-12">
                    <p>calculation = 2â‚¬ + totalDistance * 0.2 + hours</p>
                    <p id="distance">One Way Distance</p>
                    <p id="totalCost" class="total-cost">Total Cost: </p>
                </div>
            </div>
        </form>
        <a href="https://www.flaticon.com/free-icons/pin" title="pin icons">Pin icons created by Freepik - Flaticon</a>

    </section>

    <section>
        <h2>Find out more about getting a reliable Driver</h2>
        <a href="finding-driver-in-serekunda-gambia.html">
        <img src="images/taxi-driver.jpg" class="img-fluid medium-image clickable-image img-thumbnail rounded-3"
             alt="Finding a Driver in Gambia" loading="lazy">
        </a>
        <p>
            To find a private driver in Gambia, start by asking for recommendations at your accommodation or from local
            contacts. Utilize online platforms like TripAdvisor and local Facebook groups to find reliable drivers with
            positive reviews. Ensure clear communication about rates, destinations, and any additional services
            beforehand. Hiring a local driver not only supports the local economy but also enriches your travel
            experience by providing insider knowledge of the area. Remember, word of mouth and online reviews are key to
            finding a trustworthy and experienced driver for your journey in Gambia.</p>
        <a href="finding-driver-in-serekunda-gambia.html">Finding a Driver in Gambia</a>
    </section>

</main>
<script src="footer.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKCFtROattQOYnJ81PZYeKwIno9am6PvM&callback=initMap"></script>
<script>

</script>

<script>
    const SEREKUNDA_COORDS = {lat: 13.426121, lng: -16.680796}
	let map;
	let directionsService;
	let directionsRenderer;

	function initMap() {
		const mapOptions = {
			center: SEREKUNDA_COORDS,
			zoom: 11
		};
		map = new google.maps.Map(document.getElementById("map"), mapOptions);
		directionsService = new google.maps.DirectionsService();
		directionsRenderer = new google.maps.DirectionsRenderer();
		directionsRenderer.setMap(map);

		const startInput = document.getElementById("start");
		const destinationInput = document.getElementById("destination");

		new google.maps.places.Autocomplete(startInput, {
			componentRestrictions: {country: "GM"},
		});
		new google.maps.places.Autocomplete(destinationInput, {
			componentRestrictions: {country: "GM"},
		});
		placeMarkers('lodging')
		placeMarkers('tourist_attraction')
	}

	async function fetchExchangeRate() {
		const baseCurrency = 'EUR';
		const targetCurrency = 'GMD';

		try {
			const response = await fetch(`https://open.er-api.com/v6/latest/${baseCurrency}`);
			if (!response.ok){
				console.error("Failed to fetch exchange rate:", error);
				document.getElementById('exchangeRate').textContent = 'Could not load exchange rate.';
            }

			const data = await response.json();
			return data.rates[targetCurrency];
		} catch (error) {
			console.error("Failed to fetch exchange rate:", error);
			document.getElementById('exchangeRate').textContent = 'Could not load exchange rate.';
		}
	}

	let EXCHANGE_RATE;
	fetchExchangeRate().then(
		(rate) => EXCHANGE_RATE = rate,
	)
	function placeMarkers(type) {
		const service = new google.maps.places.PlacesService(map);
		service.nearbySearch({
			location: SEREKUNDA_COORDS,
			radius: 10_000,
			type: [type]
		}, (results, status) => {
			if (status === google.maps.places.PlacesServiceStatus.OK && results) {
				const filteredResults = results.filter(
					place => place.user_ratings_total && place.user_ratings_total > 100);

				for (let i = 0; i < filteredResults.length; i++) {
					createMarker(filteredResults[i]);
				}
			}
		});
	}

	function createMarker(place, type) {
		let iconUrl = '/images/placeholder.png';
		if (type === 'lodging') {
			iconUrl = '/images/hotel.png';
		} else if (type === 'tourist_attraction') {
			iconUrl = '/images/attraction.png';
		}

		const marker = new google.maps.marker.AdvancedMarkerElement({
			position: place.geometry.location,
			map: map,
			title: place.name,
			icon: {
				url: iconUrl,
				scaledSize: new google.maps.Size(32, 32)
			}
		});
		marker.setMap(map)
	}




	function calculateRoute() {
		const start = document.getElementById("start").value;
		const destination = document.getElementById("destination").value;
        if(!start || !destination){
			return;
        }
		directionsService.route({
			origin: start,
			destination: destination,
			travelMode: 'DRIVING'
		}, function(response, status) {
			if (status === 'OK') {
				directionsRenderer.setDirections(response);
				const distance = response.routes[0].legs[0].distance.value / 1000;

				document.getElementById("distance").innerText = distance.toFixed(2) + ' km';
				const isReturn = document.getElementById("return").checked
                const hours = document.getElementById("hours") || 0;
				calculateCost(distance, isReturn, hours)
			} else {
				window.alert('Directions request failed due to ' + status);
			}
		});
	}

	function calculateCost(distance, isReturn, hours) {
		const totalDistance = isReturn ? distance * 2 : distance;
		const totalCost = 2 + totalDistance * 0.2 + hours;
		const totalCostGMD = totalCost * EXCHANGE_RATE
		document.getElementById('totalCost').innerText = 'Total Cost: ' + Math.round(totalCost) + 'â‚¬ = ' + Math.round(totalCostGMD / 100) * 100 + 'GMD';
	}
</script>
</body>
</html>
